# 実装計画

- [-] 1. プロジェクト初期設定と Git リポジトリ構築

  - ローカル Git リポジトリの初期化と GitHub リモートリポジトリとの接続を確立
  - プロジェクトのディレクトリ構造を作成し、フロントエンドとバックエンドの基本構成を設定
  - _要件: 8.1, 8.2_

- [ ] 2. フロントエンド基盤の構築

  - [ ] 2.1 React + TypeScript プロジェクトの初期化

    - Create React App または Vite を使用して TypeScript プロジェクトを作成
    - 必要な依存関係（TanStack Query、Zustand、Zod 等）をインストール
    - _要件: 5.2, 5.3_

  - [ ] 2.2 基本的なプロジェクト構造とルーティングの実装

    - React Router を設定し、基本的なページ構成を作成
    - 共通コンポーネントとレイアウトの基盤を実装
    - _要件: 6.3_

  - [ ] 2.3 状態管理の基盤実装
    - Zustand ストアの基本設定（認証状態、UI 状態）
    - TanStack Query の設定と API クライアントの基盤
    - _要件: 5.2_

- [ ] 3. バックエンド基盤の構築

  - [ ] 3.1 FastAPI プロジェクトの初期化

    - FastAPI アプリケーションの基本構造を作成
    - 必要な依存関係（pydantic、pymysql 等）をインストール
    - _要件: 5.1_

  - [ ] 3.2 データベース接続とモデルの実装

    - MySQL データベース接続の設定
    - ユーザー、演習、進捗テーブルの CREATE 文を実装
    - データベース操作用のヘルパー関数を作成
    - _要件: 3.4, 9.1_

  - [ ] 3.3 基本的な API エンドポイント構造の作成
    - FastAPI ルーターの設定と基本的なエンドポイント構造
    - エラーハンドリングとレスポンス形式の統一
    - _要件: 5.4_

- [ ] 4. AWS Cognito 認証機能の実装

  - [ ] 4.1 Cognito ユーザープールの設定

    - CloudFormation テンプレートで Cognito ユーザープールを定義
    - ユーザープールクライアントの設定
    - _要件: 1.2, 4.1_

  - [ ] 4.2 フロントエンド認証機能の実装

    - AWS Amplify Auth ライブラリを使用した認証フローの実装
    - ログイン、登録、ログアウト機能
    - 認証状態の管理とルート保護
    - _要件: 1.1, 1.3, 1.4_

  - [ ] 4.3 バックエンド認証検証の実装
    - Cognito トークンのバリデーション API を実装
    - 認証が必要なエンドポイントの保護
    - _要件: 1.5_

- [ ] 5. データベーススキーマとサンプルデータの実装

  - [ ] 5.1 データベーステーブルの作成

    - users、exercises、progress テーブルの CREATE 文を実行
    - インデックスと制約の設定
    - _要件: 3.4, 9.4_

  - [ ] 5.2 サンプル演習データの投入
    - 基本的なプログラミング演習のサンプルデータを作成
    - 初心者向けの演習問題とテストケースを定義
    - _要件: 2.1_

- [ ] 6. 演習管理機能の実装

  - [ ] 6.1 演習一覧表示機能

    - 演習一覧を取得する API エンドポイントの実装
    - フロントエンドでの演習一覧表示コンポーネント
    - _要件: 2.1_

  - [ ] 6.2 演習詳細表示とコードエディター

    - 個別演習の詳細情報を取得する API
    - コードエディターコンポーネントの実装（Monaco Editor または類似ライブラリ）
    - _要件: 2.2_

  - [ ] 6.3 コード実行機能の基盤
    - コード提出用の API エンドポイント
    - 基本的なコード検証とサニタイゼーション
    - _要件: 2.3_

- [ ] 7. 進捗管理機能の実装

  - [ ] 7.1 進捗記録機能

    - 演習完了時の進捗記録 API の実装
    - 進捗データの保存とバリデーション
    - _要件: 3.1, 3.4_

  - [ ] 7.2 進捗表示機能

    - ユーザーの進捗統計を取得する API
    - プロフィールページでの進捗表示コンポーネント
    - _要件: 3.2_

  - [ ] 7.3 演習履歴機能
    - 過去の試行履歴を取得する API
    - 履歴表示コンポーネントの実装
    - _要件: 3.3_

- [ ] 8. Zod スキーマとバリデーションの実装

  - [ ] 8.1 API レスポンススキーマの定義

    - 全 API エンドポイントのレスポンス用 Zod スキーマを作成
    - フロントエンドでのデータ検証の実装
    - _要件: 5.1_

  - [ ] 8.2 フォームバリデーションの実装
    - ユーザー入力フォーム用の Zod スキーマ
    - エラーメッセージの日本語化
    - _要件: 5.5, 7.3_

- [ ] 9. AWS Lambda 関数と API Gateway の設定

  - [ ] 9.1 Lambda 関数のデプロイ設定

    - FastAPI アプリケーションを Lambda 関数として動作させる設定
    - CloudFormation テンプレートでの Lambda 関数定義
    - _要件: 4.1_

  - [ ] 9.2 API Gateway の設定
    - REST API の設定と Lambda 関数との統合
    - CORS 設定とセキュリティ設定
    - _要件: 4.3_

- [ ] 10. AWS RDS データベースの設定

  - [ ] 10.1 RDS インスタンスの作成

    - CloudFormation での MySQL RDS インスタンス定義
    - セキュリティグループとサブネット設定
    - _要件: 9.2, 9.3_

  - [ ] 10.2 データベース接続の環境別設定
    - 開発環境と本番環境でのデータベース接続設定
    - 環境変数による設定の切り替え
    - _要件: 9.5_

- [ ] 11. AWS Amplify ホスティングとデプロイメント設定

  - [ ] 11.1 Amplify アプリケーションの初期設定

    - Amplify コンソールでのアプリケーション作成
    - GitHub リポジトリとの連携設定
    - _要件: 8.5_

  - [ ] 11.2 ビルド設定と CI/CD パイプライン
    - amplify.yml ファイルの作成とビルド設定
    - 環境別のデプロイメント設定（開発・本番）
    - _要件: 4.2, 4.3_

- [ ] 12. レスポンシブデザインとパフォーマンス最適化

  - [ ] 12.1 レスポンシブ UI の実装

    - モバイル対応のレスポンシブデザイン
    - CSS-in-JS または Tailwind CSS を使用したスタイリング
    - _要件: 6.3_

  - [ ] 12.2 パフォーマンス最適化
    - コード分割とレイジーローディングの実装
    - TanStack Query キャッシュ戦略の最適化
    - _要件: 6.1, 6.4_

- [ ] 13. エラーハンドリングとユーザーエクスペリエンス向上

  - [ ] 13.1 統一的なエラーハンドリング

    - フロントエンドとバックエンドでの一貫したエラー処理
    - ユーザーフレンドリーなエラーメッセージの実装
    - _要件: 5.5, 7.3_

  - [ ] 13.2 ローディング状態とオフライン対応
    - API 呼び出し時のローディング状態表示
    - ネットワークエラー時の再試行機能
    - _要件: 5.4, 6.5_

- [ ] 14. 本番環境デプロイメントと最終調整

  - [ ] 14.1 本番環境の設定

    - 本番用ドメインの設定と SSL 証明書
    - 本番用 RDS インスタンスの設定
    - _要件: 9.3_

  - [ ] 14.2 セキュリティ設定の最終確認

    - IAM ロールと権限の最小化
    - セキュリティグループと CORS 設定の確認
    - _要件: 4.4_

  - [ ] 14.3 日本語対応の最終確認
    - 全 UI テキストの日本語化確認
    - エラーメッセージとログの日本語化
    - _要件: 7.1, 7.2, 7.5_
